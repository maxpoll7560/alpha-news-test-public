import{_ as k}from"./TheBackground.e0df6d3b.js";import{_ as g,g as T,o,c as _,a as t,h as m,t as i,i as r,b as h,w as $,d as S,e as b,j as B,s as D,F as I,r as C,k as F,l as V,m as j}from"./entry.2315a22b.js";const L={class:"card"},O={key:0,class:"card__image-wrapper"},R=["src","alt"],E={class:"card__text-wrapper"},Q={class:"card__date-wrapper"},z={class:"card__day"},G={class:"card__month"},J={class:"card__year"},M={class:"card__description"},U={class:"card__tag"},Y={__name:"TheItem",props:{name:String,code:String,previewText:String,date:Number,image:String,type:Object},setup(u){const e=u,s=T(()=>a(e.date));function a(l){let c={};const d=new Date().getTimezoneOffset(),n=new Date((l-d*60)*1e3);return c.day=n.getDate(),c.month=n.toLocaleString("en-US",{month:"long"}),c.year=n.getFullYear(),c}return(l,c)=>{var n;const d=b;return o(),_("div",L,[e.image?(o(),_("div",O,[t("img",{class:"card__image",src:e.image,alt:e.name},null,8,R)])):m("",!0),t("div",E,[t("div",Q,[t("p",z,i(r(s).day),1),t("div",null,[t("p",G,i(r(s).month),1),t("p",J,i(r(s).year),1)])]),h(d,{to:`/news/${e.code}`,class:"card__title"},{default:$(()=>[S(i(e.name),1)]),_:1},8,["to"]),t("div",M,i(e.previewText),1),t("div",U,i((n=e.type)==null?void 0:n.value),1)])])}}},q=g(Y,[["__scopeId","data-v-7811d856"]]);const A={class:"news"},H={class:"wrapper"},K={key:0,class:"cards"},P={__name:"TheNews",setup(u){const e=j(),s=B();let{nav:a,news:l}=D(s);async function c(){const{data:d,error:n}=await F(`${e.public.api}/${a.value.current}`,{transform(p){return JSON.parse(p)}},"$jQQtEpBGkR");for(let p of d.value.items)s.addNews(p);s.setNav(a+1)}return(d,n)=>{const p=q;return o(),_("section",A,[t("div",H,[r(l)?(o(),_("div",K,[(o(!0),_(I,null,C(r(l),({name:f,code:v,previewText:w,date:x,image:y,type:N})=>(o(),V(p,{key:v,name:f,code:v,"preview-text":w,date:x,image:y,type:N},null,8,["name","code","preview-text","date","image","type"]))),128))])):m("",!0),r(a).current<r(a).total?(o(),_("button",{key:1,class:"button",onClick:c},"Загрузить ещё")):m("",!0)])])}}},W=g(P,[["__scopeId","data-v-cca68591"]]),X={};function Z(u,e){const s=k,a=W;return o(),_("div",null,[h(s,{title:"Новости"}),h(a)])}const se=g(X,[["render",Z]]);export{se as default};
